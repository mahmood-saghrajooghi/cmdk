var Ie=Object.create;var $=Object.defineProperty;var Oe=Object.getOwnPropertyDescriptor;var Ne=Object.getOwnPropertyNames;var He=Object.getPrototypeOf,Ge=Object.prototype.hasOwnProperty;var Ve=(e,n)=>{for(var r in n)$(e,r,{get:n[r],enumerable:!0})},me=(e,n,r,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of Ne(n))!Ge.call(e,a)&&a!==r&&$(e,a,{get:()=>n[a],enumerable:!(s=Oe(n,a))||s.enumerable});return e};var pe=(e,n,r)=>(r=e!=null?Ie(He(e)):{},me(n||!e||!e.__esModule?$(r,"default",{value:e,enumerable:!0}):r,e)),Ke=e=>me($({},"__esModule",{value:!0}),e);var nt={};Ve(nt,{Command:()=>ze,CommandDialog:()=>ke,CommandEmpty:()=>_e,CommandGroup:()=>Te,CommandInput:()=>De,CommandItem:()=>Pe,CommandList:()=>Le,CommandLoading:()=>we,CommandRoot:()=>re,CommandSeparator:()=>Me,defaultFilter:()=>Se,useCommandState:()=>L});module.exports=Ke(nt);var k=pe(require("@radix-ui/react-dialog")),o=pe(require("react"));var ve=1,$e=.9,Fe=.8,Ue=.17,J=.1,Y=.999,je=.9999;var Be=.99,qe=/[\\\/_+.#"@\[\(\{&]/,We=/[\\\/_+.#"@\[\(\{&]/g,Xe=/[\s-]/,ge=/[\s-]/g;function z(e,n,r,s,a,u,f){if(u===n.length)return a===e.length?ve:Be;var p=`${a},${u}`;if(f[p]!==void 0)return f[p];for(var g=s.charAt(u),m=r.indexOf(g,a),d=0,v,C,b,P;m>=0;)v=z(e,n,r,s,m+1,u+1,f),v>d&&(m===a?v*=ve:qe.test(e.charAt(m-1))?(v*=Fe,b=e.slice(a,m-1).match(We),b&&a>0&&(v*=Math.pow(Y,b.length))):Xe.test(e.charAt(m-1))?(v*=$e,P=e.slice(a,m-1).match(ge),P&&a>0&&(v*=Math.pow(Y,P.length))):(v*=Ue,a>0&&(v*=Math.pow(Y,m-a))),e.charAt(m)!==n.charAt(u)&&(v*=je)),(v<J&&r.charAt(m-1)===s.charAt(u+1)||s.charAt(u+1)===s.charAt(u)&&r.charAt(m-1)!==s.charAt(u))&&(C=z(e,n,r,s,m+1,u+2,f),C*J>v&&(v=C*J)),v>d&&(d=v),m=r.indexOf(g,m+1);return f[p]=d,d}function Re(e){return e.toLowerCase().replace(ge," ")}function he(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,z(e,n,Re(e),Re(n),0,0,{})}var T=require("@radix-ui/react-primitive"),H='[cmdk-group=""]',Q='[cmdk-group-items=""]',Je='[cmdk-group-heading=""]',ee='[cmdk-item=""]',Ee=`${ee}:not([aria-disabled="true"])`,Z="cmdk-item-select",w="data-value",Se=(e,n,r)=>he(e,n,r),Ce=o.createContext(void 0),V=()=>o.useContext(Ce),be=o.createContext(void 0),te=()=>o.useContext(be),ye=o.createContext(void 0);function Ye(e,n){let[r,s]=o.useState(n);return o.useEffect(()=>(s(n()),e(()=>{s(n())})),[e,n]),r}var re=o.forwardRef((e,n)=>{let r=A(()=>{var t,l;return{search:"",value:(l=(t=e.value)!=null?t:e.defaultValue)!=null?l:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=A(()=>new Set),a=A(()=>new Map),u=A(()=>new Map),f=A(()=>new Set),p=xe(e),{label:g,children:m,value:d,onValueChange:v,filter:C,shouldFilter:b,loop:P,disablePointerSelection:ne=!1,listId:oe,inputId:ae,labelId:ie,vimBindings:K=!0,..._}=e,M=o.useRef(null),E=et();x(()=>{if(d!==void 0){let t=d.trim();r.current.value=t,S.emit()}},[d]),x(()=>{E(6,se)},[]);let S=o.useMemo(()=>({subscribe:t=>(f.current.add(t),()=>f.current.delete(t)),snapshot:()=>r.current,setState:(t,l,i)=>{var c,R,h;if(!Object.is(r.current[t],l)){if(r.current[t]=l,t==="search")q(),j(),E(1,B);else if(t==="value"&&(i||E(5,se),((c=p.current)==null?void 0:c.value)!==void 0)){let y=l!=null?l:"";(h=(R=p.current).onValueChange)==null||h.call(R,y);return}S.emit()}},emit:()=>{f.current.forEach(t=>t())}}),[]),U=o.useMemo(()=>({value:(t,l,i)=>{var c;l!==((c=u.current.get(t))==null?void 0:c.value)&&(u.current.set(t,{value:l,keywords:i}),r.current.filtered.items.set(t,ce(l,i)),E(2,()=>{j(),S.emit()}))},item:(t,l)=>(s.current.add(t),l&&(a.current.has(l)?a.current.get(l).add(t):a.current.set(l,new Set([t]))),E(3,()=>{q(),j(),r.current.value||B(),S.emit()}),()=>{u.current.delete(t),s.current.delete(t),r.current.filtered.items.delete(t);let i=I();E(4,()=>{q(),(i==null?void 0:i.getAttribute("id"))===t&&B(),S.emit()})}),group:t=>(a.current.has(t)||a.current.set(t,new Set),()=>{u.current.delete(t),a.current.delete(t)}),filter:()=>p.current.shouldFilter,label:g||e["aria-label"],disablePointerSelection:ne,listId:oe,inputId:ae,labelId:ie,listInnerRef:M}),[]);function ce(t,l){var c,R;let i=(R=(c=p.current)==null?void 0:c.filter)!=null?R:Se;return t?i(t,r.current.search,l):0}function j(){if(!r.current.search||p.current.shouldFilter===!1)return;let t=r.current.filtered.items,l=[];r.current.filtered.groups.forEach(c=>{let R=a.current.get(c),h=0;R.forEach(y=>{let D=t.get(y);h=Math.max(D,h)}),l.push([c,h])});let i=M.current;O().sort((c,R)=>{var D,N;let h=c.getAttribute("id"),y=R.getAttribute("id");return((D=t.get(y))!=null?D:0)-((N=t.get(h))!=null?N:0)}).forEach(c=>{let R=c.closest(Q);R?R.appendChild(c.parentElement===R?c:c.closest(`${Q} > *`)):i.appendChild(c.parentElement===i?c:c.closest(`${Q} > *`))}),l.sort((c,R)=>R[1]-c[1]).forEach(c=>{var h;let R=(h=M.current)==null?void 0:h.querySelector(`${H}[${w}="${encodeURIComponent(c[0])}"]`);R==null||R.parentElement.appendChild(R)})}function B(){let t=O().find(i=>i.getAttribute("aria-disabled")!=="true"),l=t==null?void 0:t.getAttribute(w);S.setState("value",l||void 0)}function q(){var l,i,c,R;if(!r.current.search||p.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let t=0;for(let h of s.current){let y=(i=(l=u.current.get(h))==null?void 0:l.value)!=null?i:"",D=(R=(c=u.current.get(h))==null?void 0:c.keywords)!=null?R:[],N=ce(y,D);r.current.filtered.items.set(h,N),N>0&&t++}for(let[h,y]of a.current)for(let D of y)if(r.current.filtered.items.get(D)>0){r.current.filtered.groups.add(h);break}r.current.filtered.count=t}function se(){var l,i,c;let t=I();t&&(((l=t.parentElement)==null?void 0:l.firstChild)===t&&((c=(i=t.closest(H))==null?void 0:i.querySelector(Je))==null||c.scrollIntoView({block:"nearest"})),t.scrollIntoView({block:"nearest"}))}function I(){var t;return(t=M.current)==null?void 0:t.querySelector(`${ee}[aria-selected="true"]`)}function O(){var t;return Array.from(((t=M.current)==null?void 0:t.querySelectorAll(Ee))||[])}function W(t){let i=O()[t];i&&S.setState("value",i.getAttribute(w))}function X(t){var h;let l=I(),i=O(),c=i.findIndex(y=>y===l),R=i[c+t];(h=p.current)!=null&&h.loop&&(R=c+t<0?i[i.length-1]:c+t===i.length?i[0]:i[c+t]),R&&S.setState("value",R.getAttribute(w))}function le(t){let l=I(),i=l==null?void 0:l.closest(H),c;for(;i&&!c;)i=t>0?Qe(i,H):Ze(i,H),c=i==null?void 0:i.querySelector(Ee);c?S.setState("value",c.getAttribute(w)):X(t)}let ue=()=>W(O().length-1),de=t=>{t.preventDefault(),t.metaKey?ue():t.altKey?le(1):X(1)},fe=t=>{t.preventDefault(),t.metaKey?W(0):t.altKey?le(-1):X(-1)};return o.createElement(T.Primitive.div,{ref:n,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:t=>{var l;if((l=_.onKeyDown)==null||l.call(_,t),!t.defaultPrevented)switch(t.key){case"n":case"j":{K&&t.ctrlKey&&de(t);break}case"ArrowDown":{de(t);break}case"p":case"k":{K&&t.ctrlKey&&fe(t);break}case"ArrowUp":{fe(t);break}case"Home":{t.preventDefault(),W(0);break}case"End":{t.preventDefault(),ue();break}case"Enter":if(!t.nativeEvent.isComposing&&t.keyCode!==229){t.preventDefault();let i=I();if(i){let c=new Event(Z);i.dispatchEvent(c)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:rt},g),F(e,t=>o.createElement(be.Provider,{value:S},o.createElement(Ce.Provider,{value:U},t))))}),Pe=o.forwardRef((e,n)=>{var _,M;let r=e.id,s=o.useRef(null),a=o.useContext(ye),u=V(),f=xe(e),p=(M=(_=f.current)==null?void 0:_.forceMount)!=null?M:a==null?void 0:a.forceMount;x(()=>{if(!p)return u.item(r,a==null?void 0:a.id)},[p]);let g=Ae(r,s,[e.value,e.children,s],e.keywords),m=te(),d=L(E=>E.value&&E.value===g.current),v=L(E=>p||u.filter()===!1?!0:E.search?E.filtered.items.get(r)>0:!0);o.useEffect(()=>{let E=s.current;if(!(!E||e.disabled))return E.addEventListener(Z,C),()=>E.removeEventListener(Z,C)},[v,e.onSelect,e.disabled]);function C(){var E,S;b(),(S=(E=f.current).onSelect)==null||S.call(E,g.current)}function b(){m.setState("value",g.current,!0)}if(!v)return null;let{disabled:P,value:ne,onSelect:oe,forceMount:ae,keywords:ie,...K}=e;return o.createElement(T.Primitive.div,{ref:G([s,n]),...K,id:r,"cmdk-item":"",role:"option","aria-disabled":!!P,"aria-selected":!!d,"data-disabled":!!P,"data-selected":!!d,onPointerMove:P||u.disablePointerSelection?void 0:b,onClick:P?void 0:C},e.children)}),Te=o.forwardRef((e,n)=>{let{heading:r,children:s,forceMount:a,...u}=e,f=e.id,p=o.useRef(null),g=o.useRef(null),m=`cmdk-heading-${f}`,d=V(),v=L(b=>a||d.filter()===!1?!0:b.search?b.filtered.groups.has(f):!0);x(()=>d.group(f),[]),Ae(f,p,[e.value,e.heading,g]);let C=o.useMemo(()=>({id:f,forceMount:a}),[a]);return o.createElement(T.Primitive.div,{ref:G([p,n]),...u,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},r&&o.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:m},r),F(e,b=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?m:void 0},o.createElement(ye.Provider,{value:C},b))))}),Me=o.forwardRef((e,n)=>{let{alwaysRender:r,...s}=e,a=o.useRef(null),u=L(f=>!f.search);return!r&&!u?null:o.createElement(T.Primitive.div,{ref:G([a,n]),...s,"cmdk-separator":"",role:"separator"})}),De=o.forwardRef((e,n)=>{let{onValueChange:r,...s}=e,a=e.value!=null,u=te(),f=L(d=>d.search),p=L(d=>d.value),g=V(),m=o.useMemo(()=>{var v;let d=(v=g.listInnerRef.current)==null?void 0:v.querySelector(`${ee}[${w}="${encodeURIComponent(p)}"]`);return d==null?void 0:d.getAttribute("id")},[]);return o.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),o.createElement(T.Primitive.input,{ref:n,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":m,id:g.inputId,type:"text",value:a?e.value:f,onChange:d=>{a||u.setState("search",d.target.value),r==null||r(d.target.value)}})}),Le=o.forwardRef((e,n)=>{let{children:r,label:s="Suggestions",...a}=e,u=o.useRef(null),f=o.useRef(null),p=V();return o.useEffect(()=>{if(f.current&&u.current){let g=f.current,m=u.current,d,v=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let C=g.offsetHeight;m.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return v.observe(g),()=>{cancelAnimationFrame(d),v.unobserve(g)}}},[]),o.createElement(T.Primitive.div,{ref:G([u,n]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:p.listId},F(e,g=>o.createElement("div",{ref:G([f,p.listInnerRef]),"cmdk-list-sizer":""},g)))}),ke=o.forwardRef((e,n)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:u,container:f,...p}=e;return o.createElement(k.Root,{open:r,onOpenChange:s},o.createElement(k.Portal,{container:f},o.createElement(k.Overlay,{"cmdk-overlay":"",className:a}),o.createElement(k.Content,{"aria-label":e.label,"cmdk-dialog":"",className:u},o.createElement(re,{ref:n,...p}))))}),_e=o.forwardRef((e,n)=>L(s=>s.filtered.count===0)?o.createElement(T.Primitive.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),we=o.forwardRef((e,n)=>{let{progress:r,children:s,label:a="Loading...",...u}=e;return o.createElement(T.Primitive.div,{ref:n,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},F(e,f=>o.createElement("div",{"aria-hidden":!0},f)))}),ze=Object.assign(re,{List:Le,Item:Pe,Input:De,Group:Te,Separator:Me,Dialog:ke,Empty:_e,Loading:we});function Qe(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Ze(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function xe(e){let n=o.useRef(e);return x(()=>{n.current=e}),n}var x=typeof window=="undefined"?o.useEffect:o.useLayoutEffect;function A(e){let n=o.useRef();return n.current===void 0&&(n.current=e()),n}function G(e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}function L(e){let n=te(),r=()=>e(n.snapshot());return Ye(n.subscribe,r)}function Ae(e,n,r,s=[]){let a=o.useRef(),u=V();return x(()=>{var g;let f=(()=>{var m;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(m=d.current.textContent)==null?void 0:m.trim():a.current}})(),p=s.map(m=>m.trim());u.value(e,f,p),(g=n.current)==null||g.setAttribute(w,f),a.current=f}),a}var et=()=>{let[e,n]=o.useState(),r=A(()=>new Map);return x(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),n({})}};function tt(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function F({asChild:e,children:n},r){return e&&o.isValidElement(n)?o.cloneElement(tt(n),{ref:n.ref},r(n.props.children)):r(n)}var rt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};0&&(module.exports={Command,CommandDialog,CommandEmpty,CommandGroup,CommandInput,CommandItem,CommandList,CommandLoading,CommandRoot,CommandSeparator,defaultFilter,useCommandState});
